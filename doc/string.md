# 字符串

## 字符串基础

python 中的字符串是不可变`序列`，字符串所包含的字符存在从左到右的顺序，并且它们不可以在原位置修改。`序列`还包括列表和元组，因此，序列的操作对它们也有效。<br>

下面是常见的字符串字面量和操作：

```python
s = '' # 空字符串
s = "spam's" # 双引号和单引号相同
s = 's\np\ta\x00m' # 转义字符
s = '''...multiline...''' # 三引号字符串
s = r'\temp\spam' # 原始字符串（不转义）
b = b'sp\xc4m' # python 2.6 2.7 和 3.x 中的字节串
u = u'sp\u00c4m' # python 2.x 和 3.3+ 中的 unicode 字符串
s1 + s2 # 拼接
s * 3 #重复
s[i] #索引
s[i: j] # 分片
len(s) #长度
'a %s parrot' % kind # 字符串格式化表达式
'a {0} parrot'.format(kind) # python 2.6 2.7 和 3.x 中字符串格式化方法
s.find('pa') # 字符串方法 搜索
s.rstrip() # 移除右侧空白
s.replace('pa', 'xx') # 替换
s.split(',') # 用分隔符分组
s.isdigit() # 检查字符串是否只由数字组成
s.lower() # 所有字符转换成小写
s.endswith('spam') # 是否以指定字符串结尾
'spam'.join(strlist) # 生成指定字符为分隔符连接序列元素后的新字符串
s.encode('latin-1') # unicode 编码
s.decode('utf8') # unicode 解码
for x in s: print(x) # 迭代
'spam' in s # 成员关系
map(ord, s) # ord 返回单个字符的 ASCii 序号
re.match('sp(.*)am', line) # re模块 正则表达式
```

## 字符串字面量

* 单引号和双引号是一样的。空格隔开的字符串字面量会被自动拼接起来，和用 `+` 连接是一样的效果。
* 反斜杠用于引入特殊的字符，这叫转义序列。下面是转义序列表：

```python
'\<newline>'  # 忽略换行
'\\' # 反斜杠
'\'' # 单引号
'\"' # 双引号
'\a' # 响铃
'\b' # 退格
'\f' # 换页
'\n' # 换行
'\r' # 回车
'\t' #水平制表符
'\v' # 垂直制表符
'\xhh' # 十六进制 hh 的字符 必须为2个十六进制数字
'\ooo' # 八进制 ooo 的字符 最多3个八进制数字
'\N{id}' # unicode字符
'\uxxxx' # 16 位十六进制数 xxxx 码位的字符 必须为 4 个十六进制数码
'\Uxxxxxxxx' # 32 位 16 进制数 xxxxxxxx 码位的字符 任意 Unicode 字符。必须为 8 个十六进制数码。
```

* 原始字符串会阻止转义。但是 r'xxx\' 不是一个有效的字符串常量，因为不能以反斜杠结尾，仍然需要将结尾的反斜杠转义。

* 三引号是多行字符串，换行处会嵌入换行符 `\n`。常用来作为注释使用。

## 实际应用中的字符串

* 使用 `+` 拼接字符串，使用 `*` 重复字符串。`len()`获取字符串长度。`for in` 循环字符串获取每个字符。

```python
'abc' + 'def'
'abcdef'

'ha' * 3
'hahaha'

len('123')
3

for a in 'zzz': print(a)
z
z
z
```

* 字符串是字符的有序集合，所以可以通过索引来获取指定位置的字符。

```python
'abc'[0]
'a'
```

偏移量是从0开始的，以字符串长度小1的偏移量结束。还支持负偏移量，一个负偏移量和字符串的长度相加会得到正偏移量。可以把负偏移量看成是从结尾处反向计数。

```python
s = 'spam'
s[-2]
'a'
```

分片将返回新的字符串。`s[i:j:k]`，其中`i`是起始位置，`j`是结束位置。最终结果`包含i`但`不包含j`。`i`和`j`的默认值是0和分片对象的长度。`k`是步长，步长会加到索引值上，也就是每隔`k`个元素索引一次。`k`默认是1。当`k`为负数时，表示分片将从右至左进行，实际效果是将字符串反转。

```python
s = 'abcdefghijklmn'
s[0:2]
'ab'

s[::2]
'acegikm'

s[::-1]
'nmlkjihgfedcba'

s[5:1:-1]
'fedc'
```